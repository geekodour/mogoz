+++
title = "Email"
author = ["Hrishikesh Barman"]
draft = false
+++

tags
: [Networking]({{< relref "20221101143905-networking.md" >}}),[Infrastructure]({{< relref "20221101183735-infrastructure.md" >}})


## The flow {#the-flow}

`IMAP/POP/SMTP` are application layer protocols.

```text
A ->(IMAP/POP)-> Gmail ->(SMTP)-> Outlook -> (IMAP/POP)->B
```


### Client {#client}

-   Clients need something that can do things like, send, retrieve, organize mail etc.
-   That something is usually `IMAP` or `POP` (old).
-


### Server {#server}

-   `Mail servers` and other message transfer agents use `SMTP` to send and receive mail messages among each other.


## Records {#records}


### TXT {#txt}


#### SPF (Sender Policy Framework) {#spf--sender-policy-framework}

-   It isn't really a DNS issue, except that it lives in DNS.
-   SPF lets a mail admin specify what IP addresses are allowed to send email for a domain.
-   Eg. `v=spf1 include:zoho.in ~all`
    -   `v=spf1` marks this as a SPF TXT record.
    -   `include:zoho.in` means apply the SPF information from `zoho.in` here too.
    -   `~all` means anything not covered should be treated as suspect, but not a hard failure.


#### DKIM {#dkim}


### MX {#mx}


#### Priority {#priority}


## Other notes {#other-notes}

-   Email providers usually provide 3rd party passwords that you can use in your mail clients, this is useful. Rather than use your main password, you can have this extra layer of protection this way. If in case you phone gets stolen, you can just revoke that password.


## Links {#links}

-   [DKIM: Show Your Privates | rya.nc](https://rya.nc/dkim-privates.html)
-   <https://ideas.liw.fi/rethinking-email.html>
-   <https://craphound.com/spamsolutions.txt>
-   <https://www.reddit.com/r/sysadmin/comments/qkai5m/spf_dkim_dmarc/>
-   <https://www.reddit.com/r/sysadmin/comments/aph6ee/lets_talk_about_email_spoofing_and_prevention_alt/>
